# Data Directory

This directory contains all data files for the NK Immunosenescence project.

**NOTE**: Data files are gitignored due to their large size. They are generated by running the pipeline.

## Directory Structure

```
data/
├── raw/              # Downloaded H5AD files from CELLxGENE Census
├── processed/        # Intermediate and final processed data objects
└── metadata/         # Dataset catalogs and sample metadata
```

## Raw Data (`raw/`)

Contains H5AD files downloaded from CELLxGENE Census.

**File naming convention**: `{dataset_id}.h5ad`

**Generated by**: `notebooks/01_dataset_discovery.ipynb`

Expected files after download:
- Multiple H5AD files (one per dataset)
- Total size: ~10-50 GB (depends on number of datasets)

## Processed Data (`processed/`)

Contains intermediate and final processed AnnData objects.

**Key files**:
- `nk_cells_merged.h5ad` - All NK cells concatenated (post-QC)
- `nk_cells_qc.h5ad` - After quality control
- `nk_cells_preprocessed.h5ad` - After normalization and feature selection
- `nk_cells_integrated_scvi.h5ad` - scVI integrated
- `nk_cells_integrated_scanvi.h5ad` - scANVI integrated
- `nk_cells_integrated_harmony.h5ad` - Harmony integrated

## Metadata (`metadata/`)

Contains dataset catalogs and sample-level metadata.

**Key files**:
- `dataset_catalog.csv` - All discovered datasets with NK cell counts
- `sample_metadata.csv` - Per-sample metadata (donor, age, sex, etc.)
- `qc_statistics.csv` - QC metrics per dataset
- `integration_metrics.csv` - Integration quality metrics

---

**Important**: Do not commit data files to git. Use `.gitignore` to exclude large files.

To share data with collaborators, use:
- Cloud storage (Google Drive, AWS S3, etc.)
- Data repositories (Zenodo, Figshare, etc.)
- Institutional file sharing systems
